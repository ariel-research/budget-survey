<!-- 
This template allows users to create their budget vector by allocating 100 points among three government departments.
It includes form validation to ensure the total is 100 and each value is divisible by 5.
The page inherits from base.html and customizes the title and content blocks.
-->

{% extends "base.html" %}

{% block title %}{{ get_translation('create_vector_title') }}{% endblock %}

{% block content %}
<div class="create-vector-container">
    <h1>{{ get_translation('create_vector_title') }}</h1>

    <div class="instructions-section">
        <div class="instruction-text">
            {{ get_translation('budget_instructions', subjects=", ".join(subjects)) }}
        </div>
    
        <div class="rules-section">
            <div class="rules-title">{{ get_translation('sum_note').title }}</div>
            <ul class="rules-list">
                {% for rule in get_translation('sum_note').rules %}
                    <li>{{ rule }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    {% if error %}
    <div class="error-message">
        {{ error }}
    </div>
    {% endif %}

    <form method="POST" data-form-type="create-vector">
        <div class="budget-inputs">
            {% for subject in subjects %}
            <div class="input-group">
                <label for="{{ subject }}">{{ subject }}:</label>
                <select name="{{ subject }}" id="{{ subject }}" required>
                    {% for value in range(0, 100, 5) %}
                        <option value="{{ value }}">{{ value }}</option>
                    {% endfor %}
                </select>
            </div>
            {% endfor %}
        </div>

        <div class="total-container">
            <span>{{ get_translation('total') }}</span>
            <span id="total">0</span>
        </div>

        <div id="error-display" class="error-message" style="display: none;"></div>

        <div class="submit-container">
            <button type="submit" id="submit-btn" class="btn">{{ get_translation('submit') }}</button>
        </div>
    </form>
</div>
{% endblock %}
